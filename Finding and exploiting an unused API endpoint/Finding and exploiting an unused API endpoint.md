https://0aa7006e0339a59f804485df009a002d.web-security-academy.net/

Objetivo del laboratorio: 

Identificar y explotar un endpoint de API no utilizado. La vulnerabilidad radica en el mal manejo de los puntos de acceso no documentados o no controlados, lo que puede permitir a los atacantes interactuar con funciones no intencionadas de la API, a menudo sin autenticación o con permisos suficientes. Esto puede llevar a la exposición de datos o incluso ejecutar comandos no autorizados

primero vamos a cambiar el precio y que se visualice

![image](https://github.com/user-attachments/assets/6e2b1617-a8ab-4af6-add3-db4aa0d7a665)

ahora eso lo capturamos

![image](https://github.com/user-attachments/assets/ddbaeb2d-f33f-4ae0-b539-62a827ea9968)

si lo enviamos al "repeater" veremos el código normal que muestra en el "producto"

![image](https://github.com/user-attachments/assets/bfae8258-0e5c-4658-9c75-4f83b7d67af6)

ahora como sabemos que tiene un "GET" cambiaremos a un "options" 

![image](https://github.com/user-attachments/assets/cea20e9a-6ff8-4342-bb26-5d2e9b324252)

veremos 2 cosas, primero que no reconoce el HTTP por el mensaje "method not allowed" y que permite o sea reconoce GET como PATCH, ahora si probamos con PATCH

![[test 5.png]]

veremos que no tenemos "autorización" este método sirve para hacer modificaciones parciales a un recurso dentro del servidor. entonces ahora lo que haremos será intentar lo mismo con PATCH pero autenticados. vamos a "my account" e ingresamos los usuarios por defecto que tiene la pagina.  capturamos lo mismo y modificamos el "GET" por el "PATCH"

![[test 6.png]]

como se ve tenemos otro tipo de respuesta, modificamos el codigo

![[vulnerabilidades/web academy/findind and exploiting/test7.png]]

agregamos un 

     Content-Type: application/json

y al final de la linea un 

     {"price":0}

obtendremos el resultado de el lado derecho

![[vulnerabilidades/web academy/findind and exploiting/test8.png]]

verificamos y veremos que se cambio con éxito el precio, si lo "compramos" veremos que tenemos el laboratorio completado

![[vulnerabilidades/web academy/findind and exploiting/final.png]]

entonces se logro explotar la vulnerabilidad de "API no documentada o no utilizada."  
